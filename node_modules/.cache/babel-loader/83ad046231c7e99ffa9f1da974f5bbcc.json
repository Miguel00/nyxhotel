{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue","mtime":1661550804338},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/babel.config.js","mtime":1620218800000},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1660189797610},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js","mtime":1660189797421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXIuc2VydmljZSI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgZXhwb3J0RnJvbUpTT04gZnJvbSAiZXhwb3J0LWZyb20tanNvbiI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Byb2ZpbGUnLAogIGNvbXBvbmVudHM6IHsKICAgIEZvcm0sCiAgICBGaWVsZCwKICAgIEVycm9yTWVzc2FnZQogIH0sCgogIGRhdGEoKSB7CiAgICBjb25zdCBzY2hlbWEgPSB5dXAub2JqZWN0KCkuc2hhcGUoewogICAgICB1c2VybmFtZTogeXVwLnN0cmluZygpLnJlcXVpcmVkKCJVc2VybmFtZSBpcyByZXF1aXJlZCEiKS5taW4oMywgIk11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzISIpLm1heCgyMCwgIk11c3QgYmUgbWF4aW11bSAyMCBjaGFyYWN0ZXJzISIpLAogICAgICBlbWFpbDogeXVwLnN0cmluZygpLnJlcXVpcmVkKCJFbWFpbCBpcyByZXF1aXJlZCEiKS5lbWFpbCgiRW1haWwgaXMgaW52YWxpZCEiKS5tYXgoNTAsICJNdXN0IGJlIG1heGltdW0gNTAgY2hhcmFjdGVycyEiKSwKICAgICAgcGFzc3dvcmQ6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiUGFzc3dvcmQgaXMgcmVxdWlyZWQhIikubWluKDYsICJNdXN0IGJlIGF0IGxlYXN0IDYgY2hhcmFjdGVycyEiKS5tYXgoNDAsICJNdXN0IGJlIG1heGltdW0gNDAgY2hhcmFjdGVycyEiKQogICAgfSk7CiAgICBjb25zdCBzY2hlbWEyID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQhIikubWluKDMsICJNdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyEiKS5tYXgoMjAsICJNdXN0IGJlIG1heGltdW0gMjAgY2hhcmFjdGVycyEiKSwKICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRW1haWwgaXMgcmVxdWlyZWQhIikuZW1haWwoIkVtYWlsIGlzIGludmFsaWQhIikubWF4KDUwLCAiTXVzdCBiZSBtYXhpbXVtIDUwIGNoYXJhY3RlcnMhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpLm1pbig2LCAiTXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMhIikubWF4KDQwLCAiTXVzdCBiZSBtYXhpbXVtIDQwIGNoYXJhY3RlcnMhIikKICAgIH0pOwogICAgY29uc3Qgc2NoZW1hMyA9IHl1cC5vYmplY3QoKS5zaGFwZSh7CiAgICAgIHVzZXJuYW1lOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlVzZXJuYW1lIGlzIHJlcXVpcmVkISIpLm1pbigzLCAiTXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMhIikubWF4KDIwLCAiTXVzdCBiZSBtYXhpbXVtIDIwIGNoYXJhY3RlcnMhIiksCiAgICAgIGVtYWlsOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIkVtYWlsIGlzIHJlcXVpcmVkISIpLmVtYWlsKCJFbWFpbCBpcyBpbnZhbGlkISIpLm1heCg1MCwgIk11c3QgYmUgbWF4aW11bSA1MCBjaGFyYWN0ZXJzISIpLAogICAgICBwYXNzd29yZDogeXVwLnN0cmluZygpLnJlcXVpcmVkKCJQYXNzd29yZCBpcyByZXF1aXJlZCEiKS5taW4oNiwgIk11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzISIpLm1heCg0MCwgIk11c3QgYmUgbWF4aW11bSA0MCBjaGFyYWN0ZXJzISIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIHN1Y2Nlc3NmdWw6IGZhbHNlLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZzI6IGZhbHNlLAogICAgICBsb2FkaW5nMzogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiAiUmVzdGF1cmFudCIsCiAgICAgIG1pbkRhdGU6ICIiLAogICAgICBtZXNzYWdlRGVsZXRlOiAiIiwKICAgICAgbWVzc2FnZVJlZ2lzdGVyOiAiIiwKICAgICAgb3B0aW9uczogW10sCiAgICAgIG1lc3NhZ2U6ICIiLAogICAgICBzY2hlbWEsCiAgICAgIHNjaGVtYTIsCiAgICAgIHNjaGVtYTMKICAgIH07CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyOwogICAgfQoKICB9LAoKICBtb3VudGVkKCkgewogICAgVXNlclNlcnZpY2UuZ2V0UmVzdGF1cmFudHMoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIHRoaXMub3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTsKICAgICAgdGhpcy5taW5EYXRlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArICItIiArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsgIi0iICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKTsgLy8gdGhpcy5tYXhEYXRlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArICItIiArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsgIi0iICsgKHRvZGF5LmdldERhdGUoKSsxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIik7CiAgICB9LCBlcnJvciA9PiB7CiAgICAgIHRoaXMuY29udGVudCA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgIH0pOwoKICAgIGlmICghdGhpcy5jdXJyZW50VXNlcikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9CiAgfSwKCiAgbWV0aG9kczogewogICAgYXZhaWxhYmlsaXR5UmVzdGF1cmFudChkYXRlcykgewogICAgICBjb25zb2xlLmxvZyhkYXRlcyk7CiAgICAgIFVzZXJTZXJ2aWNlLmdldEF2YWlsYWJpbGl0eVJlc2VydmF0aW9ucyhkYXRlcykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgY29uc3QgYXJyID0gcmVzLmRhdGE7CiAgICAgICAgYXJyLnNvcnQoKGEsIGIpID0+IGJbJ2lkJ10gLSBhWydpZCddKTsgLy8gY29uc29sZS5sb2coYXJyKQoKICAgICAgICBjb25zdCBjbGVhbiA9IGFyci5maWx0ZXIoKGFyciwgaW5kZXgsIHNlbGYpID0+IGluZGV4ID09PSBzZWxmLmZpbmRJbmRleCh0ID0+IHQuZGF0ZSA9PT0gYXJyLmRhdGUpKTsKICAgICAgICBjb25zdCBhcnIyID0gY2xlYW4ubWFwKG9iaiA9PiB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAiRmVjaGEiOiBvYmouZGF0ZSwKICAgICAgICAgICAgIkRpc3BvbmliaWxpZGFkIjogb2JqLmNvdW50ZXIsCiAgICAgICAgICAgICJSZXN0YXVyYW50ZSI6IG9iai5yZXN0YXVyYW50SWQKICAgICAgICAgIH07CiAgICAgICAgfSk7CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyMi5sZW5ndGg7ICsraSkgewogICAgICAgICAgaWYgKGFycjJbaV1bJ1Jlc3RhdXJhbnRlJ10gPT09IDEpIHsKICAgICAgICAgICAgYXJyMltpXVsnUmVzdGF1cmFudGUnXSA9ICdDaGlhbnRpJzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFycjJbaV1bJ1Jlc3RhdXJhbnRlJ10gPSAnVW1hbWknOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgYXJyMi5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLkZlY2hhKSAtIG5ldyBEYXRlKGEuRmVjaGEpKTsKICAgICAgICBjb25zdCBkYXRhID0gYXJyMjsKICAgICAgICBjb25zdCBmaWxlTmFtZSA9ICJEaXNwb25pYmlsaWRhZCI7CiAgICAgICAgY29uc3QgZXhwb3J0VHlwZSA9IGV4cG9ydEZyb21KU09OLnR5cGVzLmNzdjsKICAgICAgICBpZiAoZGF0YSkgZXhwb3J0RnJvbUpTT04oewogICAgICAgICAgZGF0YSwKICAgICAgICAgIGZpbGVOYW1lLAogICAgICAgICAgZXhwb3J0VHlwZQogICAgICAgIH0pOwogICAgICB9LCBlcnIgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKCiAgICBkb3dubG9hZEZ1bmN0aW9uKGRhdGVzKSB7CiAgICAgIGNvbnNvbGUubG9nKGRhdGVzKTsKICAgICAgVXNlclNlcnZpY2UuZ2V0UmVzZXJ2YXRpb25zKGRhdGVzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgZmlsdGVyZWREYXRhID0gcmVzLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICBpZiAoZC5yZXNEYXRlID49IGRhdGVzLnN0YXJ0ICYmIGQucmVzRGF0ZSA8PSBkYXRlcy5lbmQpIHsKICAgICAgICAgICAgcmV0dXJuIGQ7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgY29uc3QgZGF0YSA9IGZpbHRlcmVkRGF0YTsKICAgICAgICBjb25zdCBmaWxlTmFtZSA9ICJSZXNlcnZhdGlvbnMiOwogICAgICAgIGNvbnN0IGV4cG9ydFR5cGUgPSBleHBvcnRGcm9tSlNPTi50eXBlcy5jc3Y7CiAgICAgICAgaWYgKGRhdGEpIGV4cG9ydEZyb21KU09OKHsKICAgICAgICAgIGRhdGEsCiAgICAgICAgICBmaWxlTmFtZSwKICAgICAgICAgIGV4cG9ydFR5cGUKICAgICAgICB9KTsKICAgICAgfSwgZXJyID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICB9KTsKICAgIH0sCgogICAgZGVsZXRlUmVzZXJ2YXRpb24oaWRSZXNlcnZhdGlvbikgewogICAgICB0aGlzLmxvYWRpbmczID0gdHJ1ZTsKICAgICAgVXNlclNlcnZpY2UuZGVsZXRlUmVzZXJ2YXRpb24oaWRSZXNlcnZhdGlvbikudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgdGhpcy5sb2FkaW5nMyA9IGZhbHNlOwogICAgICAgIHRoaXMubWVzc2FnZURlbGV0ZSA9ICJSZXNlcnZhIGVsaW1pbmFkYSI7CiAgICAgIH0sIGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB0aGlzLmxvYWRpbmczID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlRGVsZXRlID0gIklkIGRlIHJlc2VydmFjaW9uIGluZXhpc3RlbnRlIjsKICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZVJlZ2lzdGVyKHVzZXIpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdXNlci5hdmFpbGFiaWxpdHkgPSBOdW1iZXIodXNlci5hdmFpbGFiaWxpdHkpOwogICAgICB1c2VyLnJlc3RhdXJhbnRJZCA9IE51bWJlcih1c2VyLnJlc3RhdXJhbnRJZCk7CiAgICAgIFVzZXJTZXJ2aWNlLmRhdGVSYW5nZSh1c2VyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlUmVnaXN0ZXIgPSAiU2V0dGluZyByZWdpc3RyYWRvIjsKICAgICAgfSwgZXJyb3IgPT4gewogICAgICAgIHRoaXMuY29udGVudCA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgICAgfSk7CiAgICB9CgogIH0KfTs="},{"version":3,"mappings":"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","names":["UserService","Form","Field","ErrorMessage","exportFromJSON","yup","name","components","data","schema","object","shape","username","string","required","min","max","email","password","schema2","schema3","successful","loading","loading2","loading3","selected","minDate","messageDelete","messageRegister","options","message","computed","currentUser","$store","state","auth","user","mounted","getRestaurants","then","response","console","log","today","Date","getFullYear","getMonth","toString","padStart","getDate","error","content","$router","push","methods","availabilityRestaurant","dates","getAvailabilityReservations","res","arr","sort","a","b","clean","filter","index","self","findIndex","t","date","arr2","map","obj","counter","restaurantId","i","length","Fecha","fileName","exportType","types","csv","err","downloadFunction","getReservations","filteredData","d","resDate","start","end","deleteReservation","idReservation","handleRegister","availability","Number","dateRange"],"sourceRoot":"","sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <br><br><br><br>\n    \n    <div class=\"row\">\n    \n      <div class=\"col-lg-6 text-center\">\n        <div class=\"row\">\n          <div class=\"col-lg-12 text-center\">\n            <h4>DISPONIBILIDAD</h4>\n          </div>\n        </div>\n        <Form ref=\"settingForm\" @submit=\"handleRegister\">\n          <div v-if=\"!successful\">\n            <div class=\"form-group\">\n              <div class=\"container\">\n                <div class=\"row\">\n                  <div class=\"col-lg-6 text-left\">\n                    <span style=\"text-align:left;\">Restaurante: </span>\n                    <Field name=\"restaurantId\" as=\"select\" class=\"form-control\">\n                      <option value=\"\" disabled selected>Restaurante: </option>\n                      <option v-for=\"(option, index) in options\" :key=\"index\"  :value=\"option.id\">\n                        {{ option.name }}\n                      </option>\n                    </Field>\n                      \n                  </div>\n                  <div class=\"col-lg-6 text-left\">\n                    <span>Setting: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <Field name=\"availability\" type=\"number\" class=\"form-control\" />\n                      <ErrorMessage name=\"availability\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                  <div class=\"col-lg-6 text-left\">\n                    <span>Desde: </span>\n                    <div class=\"form-group\">\n                      <Field name=\"startDate\" type=\"date\" :min=\"minDate\" class=\"form-control\" />\n                      <ErrorMessage name=\"startDate\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                  <div class=\"col-lg-6 text-left\">\n                    <span>Hasta: </span>\n                    <div class=\"form-group\">\n                      <Field name=\"endDate\" type=\"date\" :min=\"minDate\" class=\"form-control\" />\n                      <ErrorMessage name=\"endDate\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                </div>\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-lg-12\">\n                    <br>\n                    <div class=\"form-group\">\n                      <button class=\"btn btn-primary btn-block\" style=\"background-color:rgb(73,105,144);border-color:rgb(73,105,144);\" :disabled=\"loading\">\n                        <span\n                          v-show=\"loading\"\n                          class=\"spinner-border spinner-border-sm\"\n                        ></span>\n                        Registrar\n                      </button>\n                      <sub style=\"color:#007bff;\">{{messageRegister}}</sub>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Form>\n      </div>\n      <div class=\"col-lg-6\">\n        <div class=\"col-lg-12\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 text-center\">\n                <h4>REPORTE DE RESERVACIONES</h4>\n              </div>\n            </div>\n            <Form @submit=\"downloadFunction\">\n              <div v-if=\"!successful\">\n                <div class=\"form-group\">\n                  <div class=\"container\">\n                    <div class=\"row justify-content-center\">\n                      <div class=\"col-lg-12 text-left\">\n                        <span>Desde: </span>\n                        <div class=\"form-group\">\n                          <Field name=\"start\" type=\"date\" class=\"form-control\" />\n                          <ErrorMessage name=\"start\" class=\"error-feedback\" />\n                        </div>\n                      </div>\n                      <div class=\"col-lg-12 text-left\">\n                        <span>Hasta: </span>\n                        <div class=\"form-group\">\n                          <Field name=\"end\" type=\"date\" class=\"form-control\" />\n                          <ErrorMessage name=\"end\" class=\"error-feedback\" />\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row justify-content-center\">\n                      <div class=\"col-lg-12\">\n                        <br>\n                        <div class=\"form-group\">\n                          <button class=\"btn btn-primary btn-block\" style=\"background-color:rgb(73,105,144);border-color:rgb(73,105,144);\" :disabled=\"loading2\">\n                            <span\n                              v-show=\"loading2\"\n                              class=\"spinner-border spinner-border-sm\"\n                            ></span>\n                            Descargar\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form>\n          </div>\n      </div>\n      <div class=\"col-lg-12 text-center\">\n        <div class=\"row\">\n          <div class=\"col-lg-6\">\n        <div class=\"col-lg-12\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 text-center\">\n                <br><br>\n                <h4>DISPONIBILIDAD DEL RESTAURANTE</h4>\n              </div>\n            </div>\n            <Form @submit=\"availabilityRestaurant\">\n              <div v-if=\"!successful\">\n                <div class=\"form-group\">\n                  <div class=\"container\">\n                    <div class=\"row justify-content-center\">\n                      <div class=\"col-lg-12\">\n                        <br>\n                        <div class=\"form-group\">\n                          <button class=\"btn btn-primary btn-block\" style=\"background-color:rgb(73,105,144);border-color:rgb(73,105,144);\" :disabled=\"loading2\">\n                            <span\n                              v-show=\"loading2\"\n                              class=\"spinner-border spinner-border-sm\"\n                            ></span>\n                            Descargar\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form>\n          </div>\n      </div>\n          <div class=\"col-lg-6\">\n            <div class=\"row\">\n              <div class=\"col-lg-12 text-center\">\n                <br><br>\n                <h4>ELIMINAR RESERVAS</h4>\n              </div>\n            </div>\n            <Form @submit=\"deleteReservation\">\n              <div v-if=\"!successful\">\n                <div class=\"form-group\">\n                  <div class=\"container\">\n                    <div class=\"row justify-content-center\">\n                      <div class=\"col-lg-12 text-left\">\n                        <span>Id reserva: </span>\n                        <div class=\"form-group\">\n                          <Field name=\"id\" type=\"number\" class=\"form-control\" />\n                          <ErrorMessage name=\"id\" class=\"error-feedback\" />\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"row justify-content-center\">\n                      <div class=\"col-lg-12\">\n                        <br>\n                        <div class=\"form-group\">\n                          <button class=\"btn btn-primary btn-block\" style=\"background-color:rgb(73,105,144);border-color:rgb(73,105,144);\" :disabled=\"loading3\">\n                            <span\n                              v-show=\"loading3\"\n                              class=\"spinner-border spinner-border-sm\"\n                            ></span>\n                            Eliminar\n                          </button>\n                          <sub style=\"color:#007bff;\">{{messageDelete}}</sub>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Form>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <!-- <div class=\"col-lg-12\">\n\n          \n          <strong>Token:  </strong>\n\n          <span>{{currentUser.token}}</span>\n          {{currentUser.token.substring(0, 20)}} ... {{currentUser.token.substr(currentUser.token.length - 20)}}\n          \n        </div> -->\n      </div>\n    </div>\n    <!-- <ul>\n      <li v-for=\"role in currentUser.roles\" :key=\"role\">{{role}}</li>\n    </ul> -->\n  </div>\n</template>\n\n<script>\nimport UserService from \"../services/user.service\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport exportFromJSON from \"export-from-json\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: 'Profile',\n\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .min(3, \"Must be at least 3 characters!\")\n        .max(20, \"Must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });\n    const schema2 = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .min(3, \"Must be at least 3 characters!\")\n        .max(20, \"Must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });\n    const schema3 = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .min(3, \"Must be at least 3 characters!\")\n        .max(20, \"Must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });\n\n    return {\n      successful: false,\n      loading: false,\n      loading2: false,\n      loading3: false,\n      \n      selected: \"Restaurant\",\n      minDate: \"\",\n      messageDelete: \"\",\n      messageRegister: \"\",\n      options: [],\n      message: \"\",\n      schema,\n      schema2,\n      schema3,\n      \n    };\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  mounted() {\n    UserService.getRestaurants().then(\n      (response) => {\n        console.log(response.data)\n        this.options = response.data;\n        const today =  new Date()\n        this.minDate = today.getFullYear() + \"-\" + (today.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + today.getDate().toString().padStart(2, \"0\");\n            // this.maxDate = today.getFullYear() + \"-\" + (today.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + (today.getDate()+1).toString().padStart(2, \"0\");\n      },\n      (error) => {\n        this.content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n      }\n    );\n    if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    availabilityRestaurant(dates) {\n      console.log(dates)\n      UserService.getAvailabilityReservations(dates).then(\n        (res)=> {\n          console.log(res)\n           \n          const arr = res.data\n          arr.sort((a, b) => b['id'] - a['id'])\n          // console.log(arr)\n          const clean = arr.filter((arr, index, self) =>\n          index === self.findIndex((t) => (t.date === arr.date)))\n\n         const arr2 = clean.map(\n              obj => {\n                  return {\n                      \"Fecha\" : obj.date,\n                      \"Disponibilidad\":obj.counter,\n                      \"Restaurante\":obj.restaurantId\n                  }\n              }\n          ); \n          \n          for (var i = 0; i < arr2.length; ++i) {\n              if (arr2[i]['Restaurante'] === 1) {\n                  arr2[i]['Restaurante'] = 'Chianti';\n              }else{\n                  arr2[i]['Restaurante'] = 'Umami';\n              }\n          }\n\n          \n          arr2.sort((a,b) =>  new Date(b.Fecha) - new Date(a.Fecha));\n\n          const data = arr2\n          const fileName = \"Disponibilidad\";\n          const exportType = exportFromJSON.types.csv;\n\n          if (data) exportFromJSON({ data, fileName, exportType });\n        },\n        (err) => {\n          console.log(err)\n        }\n      )\n    },\n    downloadFunction(dates) {\n      console.log(dates)\n      UserService.getReservations(dates).then(\n        (res)=> {\n\n          const filteredData = res.data.filter(function(d){\n            if (d.resDate >= dates.start && d.resDate <= dates.end){\n              return d\n            }\n            \n          });\n          const data = filteredData\n          const fileName = \"Reservations\";\n          const exportType = exportFromJSON.types.csv;\n\n          if (data) exportFromJSON({ data, fileName, exportType });\n        },\n        (err) => {\n          console.log(err)\n        }\n      )\n    },\n    deleteReservation(idReservation) {\n      this.loading3 = true\n      UserService.deleteReservation(idReservation).then(\n        (res)=> {\n          console.log(res)\n          this.loading3 = false\n          this.messageDelete = \"Reserva eliminada\"\n        },\n        (err) => {\n          console.log(err)\n          this.loading3 = false\n          this.messageDelete = \"Id de reservacion inexistente\"\n        }\n      )\n    },\n    handleRegister(user) {\n      this.loading = true\n      user.availability = Number(user.availability)\n      user.restaurantId = Number(user.restaurantId)\n      UserService.dateRange(user).then(\n        (response) => {\n          console.log(response)\n          this.loading = false\n          this.messageRegister = \"Setting registrado\"\n        },\n        (error) => {\n          this.content =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    },\n  },\n};\n</script>"]}]}