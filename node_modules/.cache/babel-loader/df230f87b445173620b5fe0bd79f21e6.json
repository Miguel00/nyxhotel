{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js??ref--14-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/store/auth.module.js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/store/auth.module.js","mtime":1659559955713},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/babel.config.js","mtime":1620218800000},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1660189797610},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js","mtime":1658464853785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGguc2VydmljZSc7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpjb25zdCBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXIKfSA6IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiBmYWxzZQogIH0sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgY29uc3QgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW4oewogICAgICBjb21taXQKICAgIH0sIHVzZXIpIHsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHVzZXIpLnRoZW4odXNlciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgbG9nb3V0KHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfSwKCiAgICAvLyBjcmVhdGVSZXNlcnZhdGlvbih7IGNvbW1pdCB9LCB1c2VyKSB7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGNvbW1pdCkKICAgIC8vICAgLy8gY29uc29sZS5sb2coImF1dGgubW9kdWxlOiAiLCB1c2VyKQogICAgLy8gICByZXR1cm4gQXV0aFNlcnZpY2UuY3JlYXRlUmVzZXJ2YXRpb24odXNlcikudGhlbigKICAgIC8vICAgICByZXNwb25zZSA9PiB7CiAgICAvLyAgICAgICBjb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwogICAgLy8gICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7CiAgICAvLyAgICAgfSwKICAgIC8vICAgICBlcnJvciA9PiB7CiAgICAvLyAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoIkVycm9yIGF1dGgubW9kdWxlOiAiLCBlcnJvcik7CiAgICAvLyAgICAgfQogICAgLy8gICApOwogICAgLy8gfSwKICAgIHJlZ2lzdGVyKHsKICAgICAgY29tbWl0CiAgICB9LCB1c2VyKSB7CiAgICAgIHJldHVybiBBdXRoU2VydmljZS5yZWdpc3Rlcih1c2VyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb21taXQoJ3JlZ2lzdGVyU3VjY2VzcycpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzcG9uc2UuZGF0YSk7CiAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICBjb21taXQoJ3JlZ2lzdGVyRmFpbHVyZScpOwogICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzKHN0YXRlLCB1c2VyKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgfSwKCiAgICBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKCiAgICBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKCiAgICByZWdpc3RlclN1Y2Nlc3Moc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9LAoKICAgIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/store/auth.module.js"],"sourcesContent":["import AuthService from '../services/auth.service';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      return AuthService.login(user).then(\n        user => {\n          commit('loginSuccess', user);\n          return Promise.resolve(user);\n        },\n        error => {\n          commit('loginFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n\n    logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n    },\n\n    // createReservation({ commit }, user) {\n    //   // console.log(commit)\n    //   // console.log(\"auth.module: \", user)\n    //   return AuthService.createReservation(user).then(\n    //     response => {\n    //       commit('registerSuccess');\n    //       return Promise.resolve(response);\n    //     },\n    //     error => {\n    //       return Promise.reject(\"Error auth.module: \", error);\n    //     }\n    //   );\n    // },\n\n    register({ commit }, user) {\n      return AuthService.register(user).then(\n        response => {\n          commit('registerSuccess');\n          return Promise.resolve(response.data);\n        },\n        error => {\n          commit('registerFailure');\n          return Promise.reject(error);\n        }\n      );\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n};\n"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,0BAAxB;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,MAAMC,YAAY,GAAGL,IAAI,GACrB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA8BP;AAA9B,CADqB,GAErB;EAAEM,MAAM,EAAE;IAAEC,QAAQ,EAAE;EAAZ,CAAV;EAA+BP,IAAI,EAAE;AAArC,CAFJ;AAIA,OAAO,MAAMQ,IAAI,GAAG;EAClBC,UAAU,EAAE,IADM;EAElBC,KAAK,EAAEL,YAFW;EAGlBM,OAAO,EAAE;IACPC,KAAK,CAAC;MAAEC;IAAF,CAAD,EAAab,IAAb,EAAmB;MACtB,OAAOD,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACLd,IAAI,IAAI;QACNa,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;QACA,OAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;MACD,CAJI,EAKLiB,KAAK,IAAI;QACPJ,MAAM,CAAC,cAAD,CAAN;QACA,OAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACD,CARI,CAAP;IAUD,CAZM;;IAcPE,MAAM,CAAC;MAAEN;IAAF,CAAD,EAAa;MACjBd,WAAW,CAACoB,MAAZ;MACAN,MAAM,CAAC,QAAD,CAAN;IACD,CAjBM;;IAmBP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAO,QAAQ,CAAC;MAAEP;IAAF,CAAD,EAAab,IAAb,EAAmB;MACzB,OAAOD,WAAW,CAACqB,QAAZ,CAAqBpB,IAArB,EAA2Bc,IAA3B,CACLO,QAAQ,IAAI;QACVR,MAAM,CAAC,iBAAD,CAAN;QACA,OAAOE,OAAO,CAACC,OAAR,CAAgBK,QAAQ,CAACC,IAAzB,CAAP;MACD,CAJI,EAKLL,KAAK,IAAI;QACPJ,MAAM,CAAC,iBAAD,CAAN;QACA,OAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;MACD,CARI,CAAP;IAUD;;EA5CM,CAHS;EAiDlBM,SAAS,EAAE;IACTC,YAAY,CAACd,KAAD,EAAQV,IAAR,EAAc;MACxBU,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;MACAG,KAAK,CAACV,IAAN,GAAaA,IAAb;IACD,CAJQ;;IAKTyB,YAAY,CAACf,KAAD,EAAQ;MAClBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CARQ;;IASTmB,MAAM,CAACT,KAAD,EAAQ;MACZA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;MACAG,KAAK,CAACV,IAAN,GAAa,IAAb;IACD,CAZQ;;IAaT0B,eAAe,CAAChB,KAAD,EAAQ;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD,CAfQ;;IAgBToB,eAAe,CAACjB,KAAD,EAAQ;MACrBA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;IACD;;EAlBQ;AAjDO,CAAb"}]}