{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue","mtime":1659991065397},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1658464855111},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js","mtime":1658464855530}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0IFVzZXJTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3VzZXIuc2VydmljZSI7CmltcG9ydCB7IEZvcm0sIEZpZWxkLCBFcnJvck1lc3NhZ2UgfSBmcm9tICJ2ZWUtdmFsaWRhdGUiOwppbXBvcnQgKiBhcyB5dXAgZnJvbSAieXVwIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnRzOiB7CiAgICBGb3JtOiBGb3JtLAogICAgRmllbGQ6IEZpZWxkLAogICAgRXJyb3JNZXNzYWdlOiBFcnJvck1lc3NhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQhIikubWluKDMsICJNdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyEiKS5tYXgoMjAsICJNdXN0IGJlIG1heGltdW0gMjAgY2hhcmFjdGVycyEiKSwKICAgICAgZW1haWw6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiRW1haWwgaXMgcmVxdWlyZWQhIikuZW1haWwoIkVtYWlsIGlzIGludmFsaWQhIikubWF4KDUwLCAiTXVzdCBiZSBtYXhpbXVtIDUwIGNoYXJhY3RlcnMhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpLm1pbig2LCAiTXVzdCBiZSBhdCBsZWFzdCA2IGNoYXJhY3RlcnMhIikubWF4KDQwLCAiTXVzdCBiZSBtYXhpbXVtIDQwIGNoYXJhY3RlcnMhIikKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgc3VjY2Vzc2Z1bDogZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nMjogZmFsc2UsCiAgICAgIHNlbGVjdGVkOiAiUmVzdGF1cmFudCIsCiAgICAgIG1pbkRhdGU6ICIiLAogICAgICBtZXNzYWdlUmVnaXN0ZXI6ICIiLAogICAgICBvcHRpb25zOiBbXSwKICAgICAgbWVzc2FnZTogIiIsCiAgICAgIHNjaGVtYTogc2NoZW1hCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRVc2VyOiBmdW5jdGlvbiBjdXJyZW50VXNlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGgudXNlcjsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIFVzZXJTZXJ2aWNlLmdldFJlc3RhdXJhbnRzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgIF90aGlzLm9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICBfdGhpcy5taW5EYXRlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArICItIiArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsgIi0iICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgIjAiKTsgLy8gdGhpcy5tYXhEYXRlID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArICItIiArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAiMCIpICsgIi0iICsgKHRvZGF5LmdldERhdGUoKSsxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICIwIik7CiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgX3RoaXMuY29udGVudCA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEgJiYgZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgZXJyb3IudG9TdHJpbmcoKTsKICAgIH0pOwoKICAgIGlmICghdGhpcy5jdXJyZW50VXNlcikgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVSZWdpc3RlcjogZnVuY3Rpb24gaGFuZGxlUmVnaXN0ZXIodXNlcikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHVzZXIuYXZhaWxhYmlsaXR5ID0gTnVtYmVyKHVzZXIuYXZhaWxhYmlsaXR5KTsKICAgICAgdXNlci5yZXN0YXVyYW50SWQgPSBOdW1iZXIodXNlci5yZXN0YXVyYW50SWQpOwogICAgICBVc2VyU2VydmljZS5kYXRlUmFuZ2UodXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBfdGhpczIubWVzc2FnZVJlZ2lzdGVyID0gIlNldHRpbmcgcmVnaXN0cmFkbyI7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5jb250ZW50ID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Profile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <!-- <header class=\"jumbotron\">\n      <h3>\n        <strong>{{currentUser.username}}</strong> Admin\n      </h3>\n    </header> -->\n    <br><br>\n    <div class=\"row\">\n      <div class=\"col-lg-12 text-center\">\n        <Form @submit=\"handleRegister\" :validation-schema=\"schema\">\n          <div v-if=\"!successful\">\n            <div class=\"form-group\">\n              <div class=\"container\">\n                <div class=\"row\">\n                  <div class=\"col-lg-3 text-left\">\n                      <span style=\"text-align:left;\">Restaurant: </span>\n                      \n                        <!-- <select required v-model=\"selected\" class=\"fom-select\" aria-label=\"Default select example\" style=\"height: calc(1.5em + 0.75rem + 2px); width:100%;border: 1px solid #ced4da;border-radius: 0.25rem;padding: 0.375rem 0.75rem;\n        background-clip: padding-box;font-size: 1rem;\n        font-weight: 400;\n        line-height: 1.5;    color: #495057;\">\n                          <option value=\"Restaurant\">Restaurant</option>\n                          <option v-for=\"(option, index) in options\" :key=\"index\" :value=\"option.id\">\n                            {{ option.name }}\n                          </option>\n                        </select> -->\n\n                        <Field name=\"restaurantId\" as=\"select\" class=\"form-control\">\n                            <option value=\"\" disabled selected>Restaurant: </option>\n                            <option v-for=\"(option, index) in options\" :key=\"index\"  :value=\"option.id\">\n                              {{ option.name }}\n                            </option>\n                          </Field>\n                      \n                  </div>\n                  <div class=\"col-lg-3 text-left\">\n                    <span>Setting: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <Field name=\"availability\" type=\"number\" class=\"form-control\" />\n                      <ErrorMessage name=\"availability\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                  <div class=\"col-lg-3 text-left\">\n                    <span>From: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <!-- Fm:  -->\n                      <Field name=\"startDate\" type=\"date\" :min=\"minDate\" class=\"form-control\" />\n                      <ErrorMessage name=\"startDate\" class=\"error-feedback\" />\n                    </div>\n                    \n                  </div>\n                    \n                  <div class=\"col-lg-3 text-left\">\n                    <span>To: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <Field name=\"endDate\" type=\"date\" :min=\"minDate\" class=\"form-control\" />\n                      <ErrorMessage name=\"endDate\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                  <!-- <div class=\"col-lg-3 text-left\">\n                    <span>Nights: </span>\n                    <div class=\"form-group\">\n                      <Field name=\"nights\" type=\"number\" class=\"form-control\" />\n                      <ErrorMessage name=\"nights\" class=\"error-feedback\" />\n                    </div>\n                  </div> -->\n                </div>\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-lg-3\">\n                    <br>\n                    <div class=\"form-group\">\n                      <button class=\"btn btn-primary btn-block\" :disabled=\"loading\">\n                        <span\n                          v-show=\"loading\"\n                          class=\"spinner-border spinner-border-sm\"\n                        ></span>\n                        Registrar\n                      </button>\n                      <sub style=\"color:#007bff;\">{{messageRegister}}</sub>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <!-- <label for=\"username\">Username</label> -->\n            <!-- <Field name=\"username\" type=\"date\" class=\"form-control\" />\n            <ErrorMessage name=\"username\" class=\"error-feedback\" /> -->\n            <!-- <div class=\"form-group\">\n              <label for=\"email\">Email</label>\n              <Field name=\"email\" type=\"email\" class=\"form-control\" />\n              <ErrorMessage name=\"email\" class=\"error-feedback\" />\n            </div> -->\n            \n\n            \n          </div>\n        </Form>\n      </div>\n      <div class=\"col-lg-12 text-center\">\n        <Form @submit=\"Download\" :validation-schema=\"schema\">\n          <div v-if=\"!successful\">\n            <div class=\"form-group\">\n              <div class=\"container\">\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-lg-3 text-left\">\n                    <span>From: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <!-- Fm:  -->\n                      <Field name=\"start\" type=\"date\" class=\"form-control\" />\n                      <ErrorMessage name=\"start\" class=\"error-feedback\" />\n                    </div>\n                    \n                  </div>\n                    \n                  <div class=\"col-lg-3 text-left\">\n                    <span>To: </span>\n                    <div class=\"form-group\">\n                      <!-- <label for=\"password\">Password</label> -->\n                      <Field name=\"end\" type=\"date\" class=\"form-control\" />\n                      <ErrorMessage name=\"end\" class=\"error-feedback\" />\n                    </div>\n                  </div>\n                  <!-- <div class=\"col-lg-3 text-left\">\n                    <span>Nights: </span>\n                    <div class=\"form-group\">\n                      <Field name=\"nights\" type=\"number\" class=\"form-control\" />\n                      <ErrorMessage name=\"nights\" class=\"error-feedback\" />\n                    </div>\n                  </div> -->\n                </div>\n                <div class=\"row justify-content-center\">\n                  <div class=\"col-lg-3\">\n                    <br>\n                    <div class=\"form-group\">\n                      <button class=\"btn btn-primary btn-block\" :disabled=\"loading2\">\n                        <span\n                          v-show=\"loading2\"\n                          class=\"spinner-border spinner-border-sm\"\n                        ></span>\n                        Descargar\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </Form>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"row\">\n        <!-- <div class=\"col-lg-12\">\n\n          \n          <strong>Token:  </strong>\n\n          <span>{{currentUser.token}}</span>\n          {{currentUser.token.substring(0, 20)}} ... {{currentUser.token.substr(currentUser.token.length - 20)}}\n          \n        </div> -->\n      </div>\n    </div>\n    <!-- <ul>\n      <li v-for=\"role in currentUser.roles\" :key=\"role\">{{role}}</li>\n    </ul> -->\n  </div>\n</template>\n\n<script>\nimport UserService from \"../services/user.service\";\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: 'Profile',\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      username: yup\n        .string()\n        .required(\"Username is required!\")\n        .min(3, \"Must be at least 3 characters!\")\n        .max(20, \"Must be maximum 20 characters!\"),\n      email: yup\n        .string()\n        .required(\"Email is required!\")\n        .email(\"Email is invalid!\")\n        .max(50, \"Must be maximum 50 characters!\"),\n      password: yup\n        .string()\n        .required(\"Password is required!\")\n        .min(6, \"Must be at least 6 characters!\")\n        .max(40, \"Must be maximum 40 characters!\"),\n    });\n\n    return {\n      successful: false,\n      loading: false,\n      loading2: false,\n      selected: \"Restaurant\",\n      minDate: \"\",\n      messageRegister: \"\",\n      options: [],\n      message: \"\",\n      schema,\n    };\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  mounted() {\n    UserService.getRestaurants().then(\n      (response) => {\n        console.log(response.data)\n        this.options = response.data;\n        const today =  new Date()\n        this.minDate = today.getFullYear() + \"-\" + (today.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + today.getDate().toString().padStart(2, \"0\");\n            // this.maxDate = today.getFullYear() + \"-\" + (today.getMonth() + 1).toString().padStart(2, \"0\") + \"-\" + (today.getDate()+1).toString().padStart(2, \"0\");\n      },\n      (error) => {\n        this.content =\n          (error.response &&\n            error.response.data &&\n            error.response.data.message) ||\n          error.message ||\n          error.toString();\n      }\n    );\n    if (!this.currentUser) {\n      this.$router.push('/login');\n    }\n  },\n  methods: {\n    handleRegister(user) {\n      this.loading = true\n      user.availability = Number(user.availability)\n      user.restaurantId = Number(user.restaurantId)\n      UserService.dateRange(user).then(\n        (response) => {\n          console.log(response)\n          this.loading = false\n          this.messageRegister = \"Setting registrado\"\n        },\n        (error) => {\n          this.content =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    },\n  },\n};\n</script>"],"sourceRoot":""}]}