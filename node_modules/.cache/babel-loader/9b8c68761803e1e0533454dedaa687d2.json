{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/thread-loader/dist/cjs.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js??ref--14-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","mtime":1659559711738},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/babel.config.js","mtime":1620218800000},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/thread-loader/dist/cjs.js","mtime":1658464853408},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1660189797610},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js","mtime":1658464853785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgQVBJX1VSTCA9ICdodHRwczovL255eGhvdGVscy1yZXMtcmVzZXJ2YXRpb24uaGVyb2t1YXBwLmNvbS8nOwoKY2xhc3MgQXV0aFNlcnZpY2UgewogIGxvZ2luKHVzZXIpIHsKICAgIHJldHVybiBheGlvcy5wb3N0KEFQSV9VUkwgKyAndXNlcnMvbG9naW4nLCB7CiAgICAgIGVtYWlsOiB1c2VyLnVzZXJuYW1lLAogICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICAgICAgaWYgKHJlc3BvbnNlLmRhdGEudG9rZW4pIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9CgogIGxvZ291dCgpIHsKICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgfQoKICByZWdpc3Rlcih1c2VyKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3NpZ251cCcsIHsKICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsCiAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgfSk7CiAgfSAvLyBjcmVhdGVSZXNlcnZhdGlvbih1c2VyKSB7CiAgLy8gICAvLyBjb25zb2xlLmxvZygiYXV0aC5zZXJ2aWNlOjEiLCB1c2VyKQogIC8vICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdyZXNlcnZhdGlvbnMnLCB1c2VyKS50aGVuKHJlcyA9PiB7CiAgLy8gICAgIGNvbnNvbGUubG9nKCJyZXMgYXV0aC5zZXJ2aWNlOiAiLCByZXMpCiAgLy8gICB9KTsKICAvLyB9CgoKfQoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"names":["axios","API_URL","AuthService","login","user","post","email","username","password","then","response","console","log","data","token","localStorage","setItem","JSON","stringify","logout","removeItem","register"],"sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://nyxhotels-res-reservation.herokuapp.com/';\n\nclass AuthService {\n  login(user) {\n    return axios\n      .post(API_URL + 'users/login', {\n        email: user.username,\n        password: user.password\n      })\n      .then(response => {\n        console.log(response.data.token)\n        if (response.data.token) {\n          localStorage.setItem('user', JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(user) {\n    return axios.post(API_URL + 'signup', {\n      username: user.username,\n      email: user.email,\n      password: user.password\n    });\n  }\n\n  // createReservation(user) {\n  //   // console.log(\"auth.service:1\", user)\n  //   return axios.post(API_URL + 'reservations', user).then(res => {\n  //     console.log(\"res auth.service: \", res)\n  //   });\n  // }\n}\n\nexport default new AuthService();\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kDAAhB;;AAEA,MAAMC,WAAN,CAAkB;EAChBC,KAAK,CAACC,IAAD,EAAO;IACV,OAAOJ,KAAK,CACTK,IADI,CACCJ,OAAO,GAAG,aADX,EAC0B;MAC7BK,KAAK,EAAEF,IAAI,CAACG,QADiB;MAE7BC,QAAQ,EAAEJ,IAAI,CAACI;IAFc,CAD1B,EAKJC,IALI,CAKCC,QAAQ,IAAI;MAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,KAA1B;;MACA,IAAIJ,QAAQ,CAACG,IAAT,CAAcC,KAAlB,EAAyB;QACvBC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;MACD;;MAED,OAAOH,QAAQ,CAACG,IAAhB;IACD,CAZI,CAAP;EAaD;;EAEDM,MAAM,GAAG;IACPJ,YAAY,CAACK,UAAb,CAAwB,MAAxB;EACD;;EAEDC,QAAQ,CAACjB,IAAD,EAAO;IACb,OAAOJ,KAAK,CAACK,IAAN,CAAWJ,OAAO,GAAG,QAArB,EAA+B;MACpCM,QAAQ,EAAEH,IAAI,CAACG,QADqB;MAEpCD,KAAK,EAAEF,IAAI,CAACE,KAFwB;MAGpCE,QAAQ,EAAEJ,IAAI,CAACI;IAHqB,CAA/B,CAAP;EAKD,CA3Be,CA6BhB;EACA;EACA;EACA;EACA;EACA;;;AAlCgB;;AAqClB,eAAe,IAAIN,WAAJ,EAAf"}]}