{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/thread-loader/dist/cjs.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Login.vue?vue&type=script&lang=js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Login.vue","mtime":1661383691040},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/babel.config.js","mtime":1620218800000},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/thread-loader/dist/cjs.js","mtime":1658464853408},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1660189797610},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/vue-loader-v16/dist/index.js","mtime":1660189797421}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgRm9ybSwgRmllbGQsIEVycm9yTWVzc2FnZSB9IGZyb20gInZlZS12YWxpZGF0ZSI7CmltcG9ydCAqIGFzIHl1cCBmcm9tICJ5dXAiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luIiwKICBjb21wb25lbnRzOiB7CiAgICBGb3JtLAogICAgRmllbGQsCiAgICBFcnJvck1lc3NhZ2UKICB9LAoKICBkYXRhKCkgewogICAgY29uc3Qgc2NoZW1hID0geXVwLm9iamVjdCgpLnNoYXBlKHsKICAgICAgdXNlcm5hbWU6IHl1cC5zdHJpbmcoKS5yZXF1aXJlZCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQhIiksCiAgICAgIHBhc3N3b3JkOiB5dXAuc3RyaW5nKCkucmVxdWlyZWQoIlBhc3N3b3JkIGlzIHJlcXVpcmVkISIpCiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgc2NoZW1hLAogICAgICB2ZXJpZnlSZXNlcnZhdGlvbjogIiIsCiAgICAgIHZlcmlmeVJlc2VydmF0aW9uUzogIiIsCiAgICAgIHZlcmlmeVJlc2VydmF0aW9uU1M6ICIiCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBsb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfQoKICB9LAoKICBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbiIpOwogICAgfQogIH0sCgogIG1ldGhvZHM6IHsKICAgIGNoZWNrQXZhaWxhYmlsaXR5KHVzZXIpIHsKICAgICAgY29uc29sZS5sb2codXNlcik7CiAgICB9LAoKICAgIGhhbmRsZUxvZ2luKHVzZXIpIHsKICAgICAgY29uc29sZS5sb2codXNlcik7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdXNlcikudGhlbigoKSA9PiB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbiIpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSAmJiBlcnJvci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UgfHwgZXJyb3IubWVzc2FnZSB8fCBlcnJvci50b1N0cmluZygpOwogICAgICB9KTsKICAgIH0KCiAgfQp9Ow=="},{"version":3,"mappings":"AA2CA,SAASA,IAAT,EAAeC,KAAf,EAAsBC,YAAtB,QAA0C,cAA1C;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AAEA,eAAe;EACbC,IAAI,EAAE,OADO;EAEbC,UAAU,EAAE;IACVL,IADU;IAEVC,KAFU;IAGVC;EAHU,CAFC;;EAObI,IAAI,GAAG;IACL,MAAMC,MAAK,GAAIJ,GAAG,CAACK,MAAJ,GAAaC,KAAb,CAAmB;MAChCC,QAAQ,EAAEP,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,uBAAtB,CADsB;MAEhCC,QAAQ,EAAEV,GAAG,CAACQ,MAAJ,GAAaC,QAAb,CAAsB,uBAAtB;IAFsB,CAAnB,CAAf;IAKA,OAAO;MACLE,OAAO,EAAE,KADJ;MAELC,OAAO,EAAE,EAFJ;MAGLR,MAHK;MAILS,iBAAiB,EAAE,EAJd;MAKLC,kBAAkB,EAAE,EALf;MAMLC,mBAAmB,EAAE;IANhB,CAAP;EAQD,CArBY;;EAsBbC,QAAQ,EAAE;IACRC,QAAQ,GAAG;MACT,OAAO,KAAKC,MAAL,CAAYC,KAAZ,CAAkBC,IAAlB,CAAuBC,MAAvB,CAA8BJ,QAArC;IACD;;EAHO,CAtBG;;EA2BbK,OAAO,GAAG;IACR,IAAI,KAAKL,QAAT,EAAmB;MACjB,KAAKM,OAAL,CAAaC,IAAb,CAAkB,QAAlB;IACF;EACD,CA/BY;;EAgCbC,OAAO,EAAE;IACPC,iBAAiB,CAACC,IAAD,EAAO;MACtBC,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACD,CAHM;;IAIPG,WAAW,CAACH,IAAD,EAAO;MAChBC,OAAO,CAACC,GAAR,CAAYF,IAAZ;MACA,KAAKhB,OAAL,GAAe,IAAf;MAEA,KAAKO,MAAL,CAAYa,QAAZ,CAAqB,YAArB,EAAmCJ,IAAnC,EAAyCK,IAAzC,CACE,MAAM;QACJ,KAAKT,OAAL,CAAaC,IAAb,CAAkB,QAAlB;MACD,CAHH,EAIGS,KAAD,IAAW;QACT,KAAKtB,OAAL,GAAe,KAAf;QACA,KAAKC,OAAL,GACGqB,KAAK,CAACC,QAAN,IACCD,KAAK,CAACC,QAAN,CAAe/B,IADhB,IAEC8B,KAAK,CAACC,QAAN,CAAe/B,IAAf,CAAoBS,OAFtB,IAGAqB,KAAK,CAACrB,OAHN,IAIAqB,KAAK,CAACE,QAAN,EALF;MAMF,CAZF;IAcD;;EAtBM;AAhCI,CAAf","names":["Form","Field","ErrorMessage","yup","name","components","data","schema","object","shape","username","string","required","password","loading","message","verifyReservation","verifyReservationS","verifyReservationSS","computed","loggedIn","$store","state","auth","status","created","$router","push","methods","checkAvailability","user","console","log","handleLogin","dispatch","then","error","response","toString"],"sourceRoot":"","sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/components/Login.vue"],"sourcesContent":["<template>\n  <div class=\"col-md-12\">\n    <br><br><br>\n    <div class=\"card card-container\">\n      <img\n        id=\"profile-img\"\n        src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n        class=\"profile-img-card\"\n      />\n      <Form @submit=\"handleLogin\" :validation-schema=\"schema\">\n        <div class=\"form-group\">\n          <label for=\"username\">Username</label>\n          \n          <Field name=\"username\" type=\"text\" class=\"form-control\" />\n          <ErrorMessage name=\"username\" class=\"error-feedback\" />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"password\">Password</label>\n          <Field name=\"password\" type=\"password\" class=\"form-control\" />\n          <ErrorMessage name=\"password\" class=\"error-feedback\" />\n        </div>\n\n        <div class=\"form-group\">\n          <button class=\"btn btn-primary btn-block\" style=\"background-color:rgb(73,105,144);border-color:rgb(73,105,144);\" :disabled=\"loading\">\n            <span\n              v-show=\"loading\"\n              class=\"spinner-border spinner-border-sm\"\n            ></span>\n            <span>Login</span>\n          </button>\n        </div>\n\n        <div class=\"form-group\">\n          <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n            {{ message }}\n          </div>\n        </div>\n      </Form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Form, Field, ErrorMessage } from \"vee-validate\";\nimport * as yup from \"yup\";\n\nexport default {\n  name: \"Login\",\n  components: {\n    Form,\n    Field,\n    ErrorMessage,\n  },\n  data() {\n    const schema = yup.object().shape({\n      username: yup.string().required(\"Username is required!\"),\n      password: yup.string().required(\"Password is required!\"),\n    });\n\n    return {\n      loading: false,\n      message: \"\",\n      schema,\n      verifyReservation: \"\",\n      verifyReservationS: \"\",\n      verifyReservationSS: \"\",\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push(\"/admin\");\n    }\n  },\n  methods: {\n    checkAvailability(user) {\n      console.log(user)      \n    },\n    handleLogin(user) {\n      console.log(user)\n      this.loading = true;\n\n      this.$store.dispatch(\"auth/login\", user).then(\n        () => {\n          this.$router.push(\"/admin\");\n        },\n        (error) => {\n          this.loading = false;\n          this.message =\n            (error.response &&\n              error.response.data &&\n              error.response.data.message) ||\n            error.message ||\n            error.toString();\n        }\n      );\n    },\n  },\n};\n</script>\n\n<style scoped>\nlabel {\n  display: block;\n  margin-top: 10px;\n}\n\n.card-container.card {\n  max-width: 350px !important;\n  padding: 40px 40px;\n}\n\n.card {\n  background-color: #f7f7f7;\n  padding: 20px 25px 30px;\n  margin: 0 auto 25px;\n  margin-top: 50px;\n  -moz-border-radius: 2px;\n  -webkit-border-radius: 2px;\n  border-radius: 2px;\n  -moz-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n  -webkit-box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\n}\n\n.profile-img-card {\n  width: 96px;\n  height: 96px;\n  margin: 0 auto 10px;\n  display: block;\n  -moz-border-radius: 50%;\n  -webkit-border-radius: 50%;\n  border-radius: 50%;\n}\n\n.error-feedback {\n  color: red;\n}\n</style>\n"]}]}