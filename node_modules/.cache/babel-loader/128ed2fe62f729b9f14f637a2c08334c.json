{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js??ref--14-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","mtime":1719978784022},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/babel.config.js","mtime":1620218800000},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1660189797610},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js","mtime":1658464853785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKY29uc3QgQVBJX1VSTCA9ICdodHRwczovL2E3YTQtMjgwNi0xMGJlLTgtMmViZi1hMTE4LTM5ZC01Y2U0LWI1ZDgubmdyb2stZnJlZS5hcHAvJzsKCmNsYXNzIEF1dGhTZXJ2aWNlIHsKICBsb2dpbih1c2VyKSB7CiAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3VzZXJzL2xvZ2luJywgewogICAgICBlbWFpbDogdXNlci51c2VybmFtZSwKICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQKICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnRva2VuKTsKCiAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRva2VuKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfQoKICBsb2dvdXQoKSB7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogIH0KCiAgcmVnaXN0ZXIodXNlcikgewogICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdzaWdudXAnLCB7CiAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLAogICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgcGFzc3dvcmQ6IHVzZXIucGFzc3dvcmQKICAgIH0pOwogIH0gLy8gY3JlYXRlUmVzZXJ2YXRpb24odXNlcikgewogIC8vICAgLy8gY29uc29sZS5sb2coImF1dGguc2VydmljZToxIiwgdXNlcikKICAvLyAgIHJldHVybiBheGlvcy5wb3N0KEFQSV9VUkwgKyAncmVzZXJ2YXRpb25zJywgdXNlcikudGhlbihyZXMgPT4gewogIC8vICAgICBjb25zb2xlLmxvZygicmVzIGF1dGguc2VydmljZTogIiwgcmVzKQogIC8vICAgfSk7CiAgLy8gfQoKCn0KCmV4cG9ydCBkZWZhdWx0IG5ldyBBdXRoU2VydmljZSgpOw=="},{"version":3,"names":["axios","API_URL","AuthService","login","user","post","email","username","password","then","response","console","log","data","token","localStorage","setItem","JSON","stringify","logout","removeItem","register"],"sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://a7a4-2806-10be-8-2ebf-a118-39d-5ce4-b5d8.ngrok-free.app/';\n\nclass AuthService {\n  login(user) {\n    return axios\n      .post(API_URL + 'users/login', {\n        email: user.username,\n        password: user.password\n      })\n      .then(response => {\n        console.log(response.data.token)\n        if (response.data.token) {\n          localStorage.setItem('user', JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(user) {\n    return axios.post(API_URL + 'signup', {\n      username: user.username,\n      email: user.email,\n      password: user.password\n    });\n  }\n\n  // createReservation(user) {\n  //   // console.log(\"auth.service:1\", user)\n  //   return axios.post(API_URL + 'reservations', user).then(res => {\n  //     console.log(\"res auth.service: \", res)\n  //   });\n  // }\n}\n\nexport default new AuthService();\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,kEAAhB;;AAEA,MAAMC,WAAN,CAAkB;EAChBC,KAAK,CAACC,IAAD,EAAO;IACV,OAAOJ,KAAK,CACTK,IADI,CACCJ,OAAO,GAAG,aADX,EAC0B;MAC7BK,KAAK,EAAEF,IAAI,CAACG,QADiB;MAE7BC,QAAQ,EAAEJ,IAAI,CAACI;IAFc,CAD1B,EAKJC,IALI,CAKCC,QAAQ,IAAI;MAChBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,KAA1B;;MACA,IAAIJ,QAAQ,CAACG,IAAT,CAAcC,KAAlB,EAAyB;QACvBC,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;MACD;;MAED,OAAOH,QAAQ,CAACG,IAAhB;IACD,CAZI,CAAP;EAaD;;EAEDM,MAAM,GAAG;IACPJ,YAAY,CAACK,UAAb,CAAwB,MAAxB;EACD;;EAEDC,QAAQ,CAACjB,IAAD,EAAO;IACb,OAAOJ,KAAK,CAACK,IAAN,CAAWJ,OAAO,GAAG,QAArB,EAA+B;MACpCM,QAAQ,EAAEH,IAAI,CAACG,QADqB;MAEpCD,KAAK,EAAEF,IAAI,CAACE,KAFwB;MAGpCE,QAAQ,EAAEJ,IAAI,CAACI;IAHqB,CAA/B,CAAP;EAKD,CA3Be,CA6BhB;EACA;EACA;EACA;EACA;EACA;;;AAlCgB;;AAqClB,eAAe,IAAIN,WAAJ,EAAf"}]}