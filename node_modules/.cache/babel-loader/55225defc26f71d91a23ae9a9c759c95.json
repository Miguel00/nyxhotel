{"remainingRequest":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js??ref--13-0!/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","dependencies":[{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js","mtime":1658466362632},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/cache-loader/dist/cjs.js","mtime":1658464853594},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/babel-loader/lib/index.js","mtime":1658464855111},{"path":"/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/node_modules/eslint-loader/index.js","mtime":1658464853785}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvQXBwbGljYXRpb25zL01BTVAvaHRkb2NzL255eGhvdGVscy1yZXN0YXVyYW50LXJlc2VydmF0aW9uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL0FwcGxpY2F0aW9ucy9NQU1QL2h0ZG9jcy9ueXhob3RlbHMtcmVzdGF1cmFudC1yZXNlcnZhdGlvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwp2YXIgQVBJX1VSTCA9ICdodHRwczovL255eGhvdGVscy1yZXMtcmVzZXJ2YXRpb24uaGVyb2t1YXBwLmNvbS8nOwoKdmFyIEF1dGhTZXJ2aWNlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBBdXRoU2VydmljZSgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBdXRoU2VydmljZSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQXV0aFNlcnZpY2UsIFt7CiAgICBrZXk6ICJsb2dpbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gbG9naW4odXNlcikgewogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3VzZXJzL2xvZ2luJywgewogICAgICAgIGVtYWlsOiB1c2VyLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YS50b2tlbik7CgogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnRva2VuKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikgewogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3NpZ251cCcsIHsKICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"sources":["/Applications/MAMP/htdocs/nyxhotels-restaurant-reservation/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","user","post","email","username","password","then","response","console","log","data","token","localStorage","setItem","JSON","stringify","removeItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,kDAAhB;;IAEMC,W;;;;;;;WACJ,eAAMC,IAAN,EAAY;AACV,aAAOH,KAAK,CACTI,IADI,CACCH,OAAO,GAAG,aADX,EAC0B;AAC7BI,QAAAA,KAAK,EAAEF,IAAI,CAACG,QADiB;AAE7BC,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAFc,OAD1B,EAKJC,IALI,CAKC,UAAAC,QAAQ,EAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAAT,CAAcC,KAA1B;;AACA,YAAIJ,QAAQ,CAACG,IAAT,CAAcC,KAAlB,EAAyB;AACvBC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACG,IAAxB,CAA7B;AACD;;AAED,eAAOH,QAAQ,CAACG,IAAhB;AACD,OAZI,CAAP;AAaD;;;WAED,kBAAS;AACPE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACD;;;WAED,kBAASf,IAAT,EAAe;AACb,aAAOH,KAAK,CAACI,IAAN,CAAWH,OAAO,GAAG,QAArB,EAA+B;AACpCK,QAAAA,QAAQ,EAAEH,IAAI,CAACG,QADqB;AAEpCD,QAAAA,KAAK,EAAEF,IAAI,CAACE,KAFwB;AAGpCE,QAAAA,QAAQ,EAAEJ,IAAI,CAACI;AAHqB,OAA/B,CAAP;AAKD;;;;;;AAGH,eAAe,IAAIL,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'https://nyxhotels-res-reservation.herokuapp.com/';\n\nclass AuthService {\n  login(user) {\n    return axios\n      .post(API_URL + 'users/login', {\n        email: user.username,\n        password: user.password\n      })\n      .then(response => {\n        console.log(response.data.token)\n        if (response.data.token) {\n          localStorage.setItem('user', JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem('user');\n  }\n\n  register(user) {\n    return axios.post(API_URL + 'signup', {\n      username: user.username,\n      email: user.email,\n      password: user.password\n    });\n  }\n}\n\nexport default new AuthService();\n"]}]}